<!-- navbar.html -->
<nav class="navbar" role="navigation" aria-label="Main Navigation">
  <div class="nav-inner">
    <div class="navbar-left">
      <a href="index" class="logo" id="brand">Gomega</a>
      <button class="hamburger" id="hamburger" aria-label="Open menu" aria-expanded="false">‚â°</button>
    </div>

    <div class="navbar-center" id="navLinks">
      <a href="scripts" class="nav-link">Scripts</a>
      <a href="schoolgames" class="nav-link">Games</a>
      <a href="background" class="nav-link">Background</a>
      <a href="music" class="nav-link">Music</a>
      <a href="executors" class="nav-link">Executors</a>
      <a href="admin-optout" class="nav-link">Admin</a>
    </div>

    <div class="navbar-right" id="navRight">
      <div class="info small" id="schoolBadge" style="display:none;"></div>
      <button class="btn secondary" id="switchBtn" title="Switch Page">üîÅ Switch Page</button>
      <a href="settings" class="btn danger" id="settingsBtn">‚öôÔ∏è Settings</a>

      <!-- Profile Icon + Dropdown -->
      <div class="user-menu">
        <button class="avatar" id="avatarBtn">D</button>
        <div class="dropdown" id="userDropdown">
          <div class="dropdown-top">
            <div class="avatar-large">D</div>
            <div class="user-info">
              <div class="user-name">David</div>
              <div class="user-email">david@example.com</div>
            </div>
          </div>
          <a href="profile" class="dd-link">Profile</a>
          <a href="settings" class="dd-link">Settings</a>
          <button class="dd-link signout">Sign out</button>
        </div>
      </div>
    </div>
  </div>
</nav>

<script>
  // Dropdown toggle
  const avatarBtn = document.getElementById("avatarBtn");
  const userDropdown = document.getElementById("userDropdown");

  avatarBtn.addEventListener("click", () => {
    const isVisible = userDropdown.style.display === "block";
    userDropdown.style.display = isVisible ? "none" : "block";
  });

  document.addEventListener("click", (e) => {
    if (!avatarBtn.contains(e.target) && !userDropdown.contains(e.target)) {
      userDropdown.style.display = "none";
    }
  });
</script>
